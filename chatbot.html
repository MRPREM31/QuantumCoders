<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Quantum AI Assistant | QuantumCoders</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Quantum AI Assistant - Your intelligent companion for technology guidance, coding help, and QuantumCoders information.">
    <meta name="keywords" content="AI assistant, QuantumCoders, technology help, coding assistant, web development, AI guidance">
    <meta name="author" content="QuantumCoders Team">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Quantum AI Assistant | QuantumCoders">
    <meta property="og:description" content="Your intelligent companion for technology guidance, coding help, and QuantumCoders information.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://quantumcoders.example.com/chatbot.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./assets/icons/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Particle.js for background effects -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <style>
        /* ===== CSS RESET & VARIABLES ===== */
        :root {
            /* Dark Theme (Default) */
            --primary-color: #3b82f6;
            --primary-light: #60a5fa;
            --primary-dark: #2563eb;
            --primary-glow: rgba(59, 130, 246, 0.3);
            --secondary-color: #8b5cf6;
            --secondary-light: #a78bfa;
            --accent-color: #06b6d4;
            --accent-light: #22d3ee;
            --neon-blue: #00d4ff;
            --neon-purple: #a855f7;
            
            --text-color: #f8fafc;
            --text-secondary: #cbd5e1;
            --bg-color: #0a0a1a;
            --bg-secondary: #151530;
            --bg-tertiary: #1e1e40;
            --card-bg: rgba(21, 21, 48, 0.95);
            --glass-bg: rgba(255, 255, 255, 0.03);
            --border-color: rgba(59, 130, 246, 0.3);
            --border-light: rgba(59, 130, 246, 0.1);
            
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.5);
            --glow: 0 0 20px rgba(59, 130, 246, 0.4);
            
            --radius: 12px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="light"] {
            /* Light Theme */
            --primary-color: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --primary-glow: rgba(99, 102, 241, 0.3);
            --secondary-color: #8b5cf6;
            --secondary-light: #a78bfa;
            --accent-color: #06b6d4;
            --accent-light: #22d3ee;
            --neon-blue: #3b82f6;
            --neon-purple: #8b5cf6;
            
            --text-color: #1f2937;
            --text-secondary: #6b7280;
            --bg-color: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --card-bg: rgba(255, 255, 255, 0.95);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --border-color: rgba(99, 102, 241, 0.2);
            --border-light: rgba(99, 102, 241, 0.1);
            
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.15);
            --glow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            height: 100%;
            overflow: hidden;
            background: var(--bg-color);
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-color);
            background: var(--bg-color);
            line-height: 1.6;
            height: 100vh;
            overflow: hidden;
            position: relative;
            transition: var(--transition);
        }

        .futuristic {
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* ===== PARTICLES BACKGROUND ===== */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }

        /* ===== NAVBAR ===== */
        .navbar {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: rgba(10, 10, 26, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            height: 70px;
            transition: var(--transition);
        }

        [data-theme="light"] .navbar {
            background: rgba(255, 255, 255, 0.9);
        }

        .logo-img {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            object-fit: contain;
            border: 2px solid var(--border-color);
            padding: 3px;
            background: var(--card-bg);
            transition: var(--transition);
        }

        .logo-img:hover {
            transform: scale(1.05);
            border-color: var(--primary-color);
        }

        .nav-title {
            flex: 1;
            font-size: 1.3rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            white-space: nowrap;
        }

        .nav-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .nav-btn {
            padding: 8px 16px;
            border-radius: var(--radius);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-color);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            white-space: nowrap;
        }

        .nav-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        .menu-btn {
            width: 40px;
            height: 40px;
            border-radius: var(--radius);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .menu-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        /* ===== MENU PANEL ===== */
        .menu-panel {
            position: absolute;
            top: 75px;
            right: 20px;
            width: 250px;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .menu-panel.active {
            display: flex;
        }

        .menu-item {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .menu-item:hover {
            background: var(--primary-color);
            color: white;
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        .menu-footer {
            padding: 15px 20px;
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
            border-top: 1px solid var(--border-light);
        }

        /* ===== CHAT CONTAINER ===== */
        .chat-container {
            height: calc(100vh - 70px);
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 2;
        }

        /* ===== QUICK ACTIONS ===== */
        .quick-actions {
            padding: 15px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .quick-actions::-webkit-scrollbar {
            display: none;
        }

        .quick-btn {
            padding: 10px 18px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 25px;
            color: var(--text-color);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        /* ===== CHAT MESSAGES ===== */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 100px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            -webkit-overflow-scrolling: touch;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .message {
            max-width: 85%;
            padding: 15px 18px;
            border-radius: 18px;
            line-height: 1.5;
            animation: messageSlide 0.3s ease;
            word-wrap: break-word;
            position: relative;
            white-space: pre-wrap;
            overflow-wrap: break-word;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }

        .message.bot {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }

        .message.bot strong {
            color: var(--primary-color);
        }

        .message.bot code {
            background: var(--bg-tertiary);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }

        /* ===== TYPING INDICATOR ===== */
        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 18px;
            border: 1px solid var(--border-color);
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary-color);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
            30% { transform: translateY(-5px); opacity: 1; }
        }

        /* ===== INPUT BAR ===== */
        .input-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: var(--bg-color);
            border-top: 1px solid var(--border-color);
            z-index: 100;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
            flex: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        #userInput {
            flex: 1;
            padding: 14px 18px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            outline: none;
        }

        #userInput:focus {
            border-color: var(--primary-color);
            box-shadow: var(--glow);
        }

        #userInput::placeholder {
            color: var(--text-secondary);
        }

        .send-btn {
            width: 50px;
            height: 50px;
            border-radius: var(--radius);
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .send-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .navbar {
                padding: 12px 15px;
                height: 60px;
            }
            
            .logo-img {
                width: 45px;
                height: 45px;
            }
            
            .nav-title {
                font-size: 1.1rem;
            }
            
            .nav-btn span {
                display: none;
            }
            
            .nav-btn {
                padding: 8px 12px;
            }
            
            .quick-actions {
                padding: 12px;
            }
            
            .quick-btn {
                padding: 8px 15px;
                font-size: 0.85rem;
            }
            
            .chat-messages {
                padding: 15px;
                padding-bottom: 90px;
            }
            
            .message {
                max-width: 90%;
                padding: 12px 15px;
            }
            
            .input-bar {
                padding: 12px;
            }
            
            #userInput {
                padding: 12px 15px;
                font-size: 0.95rem;
            }
            
            .send-btn {
                width: 45px;
                height: 45px;
            }
            
            .menu-panel {
                width: 220px;
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            .navbar {
                padding: 10px;
            }
            
            .nav-title {
                font-size: 1rem;
            }
            
            .nav-btn {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            
            .menu-btn {
                width: 35px;
                height: 35px;
            }
            
            .quick-btn {
                padding: 7px 12px;
                font-size: 0.8rem;
            }
            
            .chat-messages {
                padding: 12px;
                padding-bottom: 80px;
            }
            
            .message {
                max-width: 95%;
                padding: 10px 13px;
                font-size: 0.95rem;
            }
            
            #userInput {
                font-size: 0.9rem;
                padding: 10px 13px;
            }
        }

        /* ===== CODE BLOCKS ===== */
        .code-block {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
            overflow-x: auto;
            font-family: monospace;
            font-size: 0.9rem;
            border-left: 3px solid var(--primary-color);
        }

        .code-block code {
            display: block;
            white-space: pre-wrap;
            color: var(--text-color);
        }

        /* ===== LOADING ANIMATION ===== */
        .loading-vibe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, 
                var(--primary-color), 
                var(--secondary-color), 
                var(--accent-color));
            background-size: 200% 100%;
            z-index: 9999;
            animation: loading 2s infinite;
            transform-origin: left;
        }

        @keyframes loading {
            0% { transform: scaleX(0); transform-origin: left; }
            50% { transform: scaleX(1); transform-origin: left; }
            51% { transform: scaleX(1); transform-origin: right; }
            100% { transform: scaleX(0); transform-origin: right; }
        }

        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
    </style>
</head>
<body>
    <!-- Loading Animation -->
    <div class="loading-vibe"></div>

    <!-- Particles Background -->
    <div id="particles-js"></div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <img src="./assets/icons/Quantumcoder_logo.png" alt="QuantumCoders" class="logo-img">
        <div class="nav-title futuristic">Quantum AI Assistant</div>
        
        <div class="nav-actions">
            <a href="index.html" class="nav-btn">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <div class="menu-btn" onclick="toggleMenu()">
                <i class="fas fa-ellipsis-v"></i>
            </div>
        </div>
    </nav>

    <!-- Menu Panel -->
    <div class="menu-panel" id="menuPanel">
        <div class="menu-item" onclick="toggleTheme()">
            <i class="fas fa-moon"></i>
            Toggle Theme
        </div>
        <div class="menu-item" onclick="clearChat()">
            <i class="fas fa-trash"></i>
            Clear Chat
        </div>
        <div class="menu-item" onclick="location.href='index.html#team'">
            <i class="fas fa-users"></i>
            Team Members
        </div>
        <div class="menu-item" onclick="location.href='index.html#projects'">
            <i class="fas fa-rocket"></i>
            Our Projects
        </div>
        <div class="menu-item" onclick="location.href='index.html#contact'">
            <i class="fas fa-envelope"></i>
            Contact Us
        </div>
        <div class="menu-footer">
            Â© 2025 QuantumCoders<br>
            Powered by Quantum AI
        </div>
    </div>

    <!-- Chat Container -->
    <div class="chat-container">
        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="quick-btn" onclick="quickQuestion('What is QuantumCoders?')">
                <i class="fas fa-atom"></i> About Us
            </button>
            <button class="quick-btn" onclick="quickQuestion('Tell me about your projects')">
                <i class="fas fa-rocket"></i> Projects
            </button>
            <button class="quick-btn" onclick="quickQuestion('How to join QuantumCoders?')">
                <i class="fas fa-users"></i> Join Team
            </button>
            <button class="quick-btn" onclick="quickQuestion('Web development basics')">
                <i class="fas fa-code"></i> Web Dev
            </button>
            <button class="quick-btn" onclick="quickQuestion('AI and machine learning')">
                <i class="fas fa-brain"></i> AI/ML
            </button>
        </div>

        <!-- Chat Messages -->
        <div class="chat-messages" id="chatBox">
            <!-- Welcome Message -->
            <div class="message bot">
                <strong>ðŸ‘‹ Hello! I'm Quantum AI Assistant</strong><br><br>
                I can help you with:<br>
                â€¢ QuantumCoders team information<br>
                â€¢ Project details and tech stack<br>
                â€¢ Web development guidance<br>
                â€¢ AI/ML concepts and implementation<br>
                â€¢ Programming help and best practices<br>
                â€¢ Collaboration opportunities<br><br>
                Try asking a question or use the quick buttons above!
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-bar">
            <div class="input-wrapper">
                <input 
                    id="userInput" 
                    type="text" 
                    placeholder="Ask me anything about QuantumCoders, technology, or programming..."
                    onkeydown="if(event.key === 'Enter') sendMessage()"
                >
                <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            initializeParticles();
            loadChatHistory();
            setupChatFunctionality();
        });

        // ===== THEME MANAGEMENT =====
        function initializeTheme() {
            const savedTheme = localStorage.getItem('quantum-theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('quantum-theme', newTheme);
            updateParticlesColor();
            closeMenu();
        }

        // ===== PARTICLES.JS =====
        function initializeParticles() {
            if (typeof particlesJS !== 'undefined') {
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                const particleColor = isDark ? '#3b82f6' : '#6366f1';
                const isMobile = window.innerWidth < 768;
                
                particlesJS('particles-js', {
                    particles: {
                        number: { 
                            value: isMobile ? 30 : 50,
                            density: { enable: true, value_area: isMobile ? 800 : 1000 }
                        },
                        color: { value: particleColor },
                        shape: { type: "circle" },
                        opacity: { 
                            value: 0.3,
                            random: true,
                            anim: { enable: true, speed: 1, opacity_min: 0.1 }
                        },
                        size: { 
                            value: 2,
                            random: true,
                            anim: { enable: true, speed: 2, size_min: 0.1 }
                        },
                        line_linked: {
                            enable: true,
                            distance: 150,
                            color: particleColor,
                            opacity: 0.1,
                            width: 1
                        },
                        move: {
                            enable: true,
                            speed: isMobile ? 0.5 : 1,
                            direction: "none",
                            random: true,
                            straight: false,
                            out_mode: "out",
                            bounce: false
                        }
                    },
                    interactivity: {
                        detect_on: "canvas",
                        events: {
                            onhover: { 
                                enable: !isMobile,
                                mode: "repulse" 
                            },
                            resize: true
                        }
                    },
                    retina_detect: !isMobile
                });
            }
        }

        function updateParticlesColor() {
            if (window.pJSDom && window.pJSDom[0]) {
                const pJS = window.pJSDom[0].pJS;
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                const particleColor = isDark ? '#3b82f6' : '#6366f1';
                
                pJS.particles.color.value = particleColor;
                pJS.particles.line_linked.color = particleColor;
                pJS.fn.particlesRefresh();
            }
        }

        // ===== MENU MANAGEMENT =====
        function toggleMenu() {
            const menu = document.getElementById('menuPanel');
            menu.classList.toggle('active');
        }

        function closeMenu() {
            const menu = document.getElementById('menuPanel');
            menu.classList.remove('active');
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('menuPanel');
            const menuBtn = document.querySelector('.menu-btn');
            
            if (!menu.contains(event.target) && !menuBtn.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // ===== CHAT FUNCTIONALITY =====
        let chatHistory = JSON.parse(localStorage.getItem('quantum-chat-history')) || [];

        function loadChatHistory() {
            const chatBox = document.getElementById('chatBox');
            chatHistory.forEach(msg => {
                addMessageToUI(msg.text, msg.sender, false);
            });
            scrollToBottom();
        }

        function addMessageToUI(text, sender, animate = true) {
            const chatBox = document.getElementById('chatBox');
            const messageDiv = document.createElement('div');
            
            messageDiv.className = `message ${sender}`;
            if (animate) {
                messageDiv.style.animation = 'messageSlide 0.3s ease';
            }
            
            // Format text (basic markdown support)
            let formattedText = text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>');
            
            messageDiv.innerHTML = formattedText + 
                `<div class="message-time">${getCurrentTime()}</div>`;
            
            chatBox.appendChild(messageDiv);
            
            if (animate) {
                scrollToBottom();
            }
        }

        function addTypingIndicator() {
            const chatBox = document.getElementById('chatBox');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatBox.appendChild(typingDiv);
            scrollToBottom();
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        }

        function scrollToBottom() {
            const chatBox = document.getElementById('chatBox');
            setTimeout(() => {
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 100);
        }

        function saveMessage(text, sender) {
            chatHistory.push({ text, sender, timestamp: new Date().toISOString() });
            
            // Keep only last 50 messages
            if (chatHistory.length > 50) {
                chatHistory = chatHistory.slice(-50);
            }
            
            localStorage.setItem('quantum-chat-history', JSON.stringify(chatHistory));
        }

        function clearChat() {
            if (confirm('Clear all chat messages?')) {
                chatHistory = [];
                localStorage.removeItem('quantum-chat-history');
                document.getElementById('chatBox').innerHTML = `
                    <div class="message bot">
                        <strong>ðŸ‘‹ Hello! I'm Quantum AI Assistant</strong><br><br>
                        I can help you with:<br>
                        â€¢ QuantumCoders team information<br>
                        â€¢ Project details and tech stack<br>
                        â€¢ Web development guidance<br>
                        â€¢ AI/ML concepts and implementation<br>
                        â€¢ Programming help and best practices<br>
                        â€¢ Collaboration opportunities<br><br>
                        Try asking a question or use the quick buttons above!
                    </div>
                `;
                closeMenu();
            }
        }

        function setupChatFunctionality() {
            const userInput = document.getElementById('userInput');
            const sendBtn = document.getElementById('sendBtn');
            
            // Auto-focus on input
            setTimeout(() => {
                userInput.focus();
            }, 500);
            
            // Handle window resize for particles
            let resizeTimer;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(function() {
                    if (window.pJSDom && window.pJSDom[0]) {
                        window.pJSDom[0].pJS.fn.canvasPaint();
                        window.pJSDom[0].pJS.fn.particlesRefresh();
                    }
                }, 250);
            });
        }

        function quickQuestion(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }

        async function sendMessage() {
            const userInput = document.getElementById('userInput');
            const sendBtn = document.getElementById('sendBtn');
            const message = userInput.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessageToUI(message, 'user');
            saveMessage(message, 'user');
            
            // Clear input
            userInput.value = '';
            userInput.focus();
            
            // Disable send button during processing
            sendBtn.disabled = true;
            sendBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            
            // Show typing indicator
            addTypingIndicator();
            
            try {
                // Send to Netlify function
                const response = await fetch('/.netlify/functions/quantum-chatbot', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ message: message })
                });
                
                const data = await response.json();
                
                // Remove typing indicator
                removeTypingIndicator();
                
                // Add bot response
                addMessageToUI(data.reply, 'bot');
                saveMessage(data.reply, 'bot');
                
            } catch (error) {
                console.error('Error:', error);
                
                // Remove typing indicator
                removeTypingIndicator();
                
                // Fallback response
                const fallbackResponses = [
                    "I apologize, but I'm having trouble connecting right now. Here's what I can tell you about QuantumCoders: We're a technology team focused on AI and web development projects.",
                    "It seems I'm experiencing connectivity issues. In the meantime, you can visit our main website or contact us directly for more information about QuantumCoders.",
                    "Network connection issue detected. QuantumCoders is a student-run tech team working on innovative projects in AI, web development, and digital solutions."
                ];
                
                const randomResponse = fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
                addMessageToUI(randomResponse, 'bot');
                saveMessage(randomResponse, 'bot');
                
            } finally {
                // Re-enable send button
                sendBtn.disabled = false;
                sendBtn.innerHTML = '<i class="fas fa-paper-plane"></i>';
            }
        }

        // Remove loading animation
        setTimeout(() => {
            document.querySelector('.loading-vibe').style.opacity = '0';
            setTimeout(() => {
                document.querySelector('.loading-vibe').style.display = 'none';
            }, 500);
        }, 1000);
    </script>
</body>
</html>